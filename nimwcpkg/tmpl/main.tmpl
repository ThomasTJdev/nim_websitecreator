#? stdtmpl | standard
#
#
#
#
#
#
#
#proc genMainAdmin(c: var TData, data: string, pageAction = ""): string = 
# result = "" 
#
# let standardElements = getRow(db, sql"SELECT head, navbar, footer, title FROM settings WHERE id = ?", "1")
# let loggedIn = if c.loggedIn == true: "true" else: "false"
<!DOCTYPE html>
<html lang="EN">
<head>
  <title>Nim Website Creator</title>

  <meta name="description" content="Nim Website Creator">
  <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="shortcut icon" href="/images/logo/favicon.ico">
  <link rel="icon" type="image/png" href="/images/logo/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/images/logo/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/logo/favicon-192x192.png" sizes="192x192">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/logo/favicon-180x180.png">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/style_admin.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous" defer></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous" defer></script>
  <script src="/js/js_admin.js" defer></script>

</head>

<body class="body">
  <div id="pagewrapper">
    <div id="background"></div>
      ${genNavbarLoggedinSettings(c)}

    <header>
      <nav id="navbar" class="navbar navbar-expand-md navbar-light">
        <div id="navbarInside">
          <a class="navbar-brand" href="/">
            <img src="/images/logo/NimWC_logo_blue.png" />
            <div>Nim Website Creator</div>
          </a>
        </div>
      </nav>
    </header>

    <main>
      <div id="page" class="$loggedIn">
        $data
      </div>
    </main>

    <footer>
      <div id="footerInside">
        <div class="container-fluid">
          <div class="row">
            <div class="col-12 col-md-3 footerLeft">
              <h5>
                Copyright
              </h5>
              <p>
                <p>&#169; 2018 - <a href="https://ttj.dk"><u>Thomas T. Jarl√∏v</u></a></p>
              </p>
            </div>
            <div class="col-12 col-md-6 footerMiddle">
            </div>
            <div class="col-12 col-md-3 footerRight">
              <h5>
                Nim Website Creator
              </h5>
              <p>
                <p>License: GPLv3 - <a href="https://github.com/ThomasTJdev/nim_websitecreator"><u>Github</u></a></p>
              </p>
            </div>
          </div>
        </div>
      </div>
    </footer>

    #     if pageAction == "edithtml":
            ${genEditHtml()}
    #     elif pageAction == "editjs":
            ${genEditJs()}
    #     elif pageAction == "editcss":
            ${genEditCss()}
    #     elif pageAction == "users":
            ${genProfileJsCss()}
    #     end if

  </div>
</body>
</html>
#
#end proc
#
#
#
#
#
#
#
#proc genMain(c: var TData, data: string, pageAction = ""): string = 
# result = "" 
#
# let standardElements = getRow(db, sql"SELECT head, navbar, footer, title FROM settings WHERE id = ?", "1")
# let loggedIn = if c.loggedIn == true: "true" else: "false"
<!DOCTYPE html>
<html lang="EN">
<head>
# if standardElements[3] != "":
  <title>${standardElements[3]}</title>
# end if

# if standardElements[0] != "":
  ${standardElements[0]}
# end if

${extensionCss()}
</head>

<body class="body">
  <div id="pagewrapper">
    <div id="background"></div>
#   if c.loggedIn and c.rank != User:
      ${genNavbarLoggedinSettings(c)}
#   elif c.loggedIn:
      ${genNavbarLoggedin(c)}
#   end if

    <header>
      ${standardElements[1]}
    </header>

    <main>
      <div id="page" class="$loggedIn">
        $data
      </div>
    </main>

    <footer>
#     if standardElements[2] != "":
        ${standardElements[2]}
#     end if

#     if pageAction == "edithtml":
        ${genEditHtml()}
#     elif pageAction == "editjs":
        ${genEditJs()}
#     elif pageAction == "editcss":
        ${genEditCss()}
#     elif pageAction == "users":
        ${genProfileJsCss()}
#     end if

      ${extensionJs()}
    </footer>

  </div>
</body>
</html>
#
#end proc
#
#
#
#
#
#proc genPage(c: var TData, pageid: string): string = 
# result = ""
#
# let standardElements = getRow(db, sql"SELECT head, navbar, footer, title FROM settings WHERE id = ?", "1")
#
#
#
# var status = "2"
# if c.loggedIn: 
#   status = "0,1,2"
# end if
#
# let pageData = getRow(db, sql("SELECT standardhead, head, standardnavbar, navbar, description, standardfooter, footer FROM pages WHERE id = ? AND status IN (" & status & ")"), pageid)
# let loggedIn = if c.loggedIn == true: "true" else: "false"
<!DOCTYPE html>
<html lang="EN">

<head>
# if standardElements[3] != "":
    <title>${standardElements[3]}</title>
# end if

# if pageData[0] == "1":
    ${standardElements[0]}
# end if

${extensionCss()}
</head>


<body class="body">
  <div id="pagewrapper">
    <div id="background"></div>
#   if c.loggedIn and c.rank != User:
      ${genNavbarLoggedinSettings(c)}
#   elif c.loggedIn:
      ${genNavbarLoggedin(c)}
#   end if

    <header>
#     if pageData[2] == "1":
        ${standardElements[1]}
#     end if
    </header>

    <main>
      <div id="page" class="$loggedIn">
#       if c.loggedIn:
          <h5 style="text-align: center;"><a href="/editpage/page/$pageid">Edit page</a></h5>
#       end if

        ${pageData[4]}
      </div>
    </main>

    <footer>
#     if pageData[5] == "1":
        ${standardElements[2]}
#     end proc

      ${extensionJs()}
    </footer>

  </div>
</body>
</html>

#end proc
#
#
#
#
#proc genPageBlog(c: var TData, blogid: string): string = 
# result = ""
#
# let standardElements = getRow(db, sql"SELECT head, navbar, footer, title FROM settings WHERE id = ?", "1")
#
#
# var status = "2"
# if c.loggedIn: 
#   status = "0,1,2"
# end if
#
# let pageData = getRow(db, sql("SELECT standardhead, head, standardnavbar, navbar, description, standardfooter, footer, name, status, title, metadescription, metakeywords FROM blog WHERE id = ? AND status IN (" & status & ")"), blogid)
# let loggedIn = if c.loggedIn == true: "true" else: "false"
<!DOCTYPE html>
<html lang="EN">


<head>
# if pageData[9] != "":
  <title>${pageData[9]}</title>
# elif standardElements[3] != "":
  <title>${standardElements[3]}</title>
# end if

<meta name="description" content="${pageData[10]}">
<meta name="keywords" content="${pageData[11]}">

# if pageData[0] == "1":
    ${standardElements[0]}
# end if

${extensionCss()}
</head>


<body class="body">
  <div id="pagewrapper">
    <div id="background"></div>
#   if c.loggedIn and c.rank != User:
      ${genNavbarLoggedinSettings(c)}
#   elif c.loggedIn:
      ${genNavbarLoggedin(c)}
#   end if

    <header>
#     if pageData[2] == "1":
        ${standardElements[1]}
#     end if
    </header>

    <main>
      <div id="page" class="$loggedIn">
#       if c.loggedIn:
          <h5 style="text-align: center;"><a href="/editpage/blog/$blogid">Edit blogpage</a></h5>
#       end if

        ${pageData[4]}
      </div>
    </main>

    <footer>
#     if pageData[5] == "1":
        ${standardElements[2]}
#     end proc

      ${extensionJs()}
    </footer>

  </div>
</body>
</html>
#end proc